"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[77058],{685402:(e,t,i)=>{i.d(t,{G:()=>o,b:()=>s});var l=i(667294),a=i(616550),n=i(785893);let r=(0,l.createContext)(!0);function o({children:e}){let t=(0,a.TH)(),[i,o]=(0,l.useState)(!0),s=(0,l.useRef)(t);return(0,l.useEffect)(()=>{s.current!==t&&(s.current=t,o(!1))},[t]),(0,n.jsx)(r,{value:i,children:e})}function s(){return(0,l.useContext)(r)}},122644:(e,t,i)=>{i.d(t,{Z:()=>n});var l=i(397657),a=i(857147);let n=(e=()=>{})=>{let t=(0,a.mB)(window.location.search),{invite_code:i}=t;if(!i)return void e(t);let n=encodeURIComponent(encodeURIComponent(i));(0,l.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:n}})}},575481:(e,t,i)=>{i.d(t,{J:()=>n,U:()=>A});var l=i(578373),a=i(992114);let n="nic_v4",r=`${n}=1a`,o=`${n}=1b`,s=[r,o],d=["invite_code","invite","board_invite_code","sender"],c=null,_=e=>!!d.find(t=>e.includes(t)),u=e=>!!s.find(t=>e.includes(t)),p=e=>e.pathname.includes("/pin/")&&!_(e.search)&&!u(e.search),h=e=>e.includes("sender"),m=e=>!_(e)&&!h(e)&&e.includes(n),f=async e=>{let{resource_response:t}=await l.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate();if(!t)return(0,a.nP)(`${n}.social_tracking_pin_non_invite.no_resource_response`),"";{let e=encodeURIComponent(t.data);return(0,a.nP)(`${n}.social_tracking_pin_non_invite.encrypted.${e?"true":"false"}`),e}},g=(e,t,i)=>{let l=e.search?"&":"?";return e.pathname+e.search+(l+(i?o:r)+t)},P=(e,t,i=!1,l)=>{if(!p(e))return;let r=i?"mweb":"web";if(!t)return void(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.no_encrypted_id`);(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.attempt`);try{let o=g(e,t,i||!1);(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.success`),l(o)}catch{(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.caught_exception`)}},b=(e,t,i=!1,l)=>{c?P(e,c,i,l):(async()=>{let a=await f(t);c=a,P(e,a,i,l)})()},A=(e,t,i,l,r)=>{let o=i?"mweb":"web";(0,a.nP)(`${o}.${n}.social_tracking_pin_non_invite.attempt`);try{!i&&l&&p(e)?((0,a.nP)(`${o}.${n}.social_tracking_pin_non_invite.search_string_eligible`),b(e,t,i,r)):m(e.search)&&(0,a.nP)(`${o}.${n}.social_tracking_pin_non_invite.search_string_land`)}catch{(0,a.nP)(`${o}.${n}.social_tracking_pin_non_invite.caught_exception`)}}},489384:(e,t,i)=>{i.d(t,{Z:()=>_});var l=i(616550),a=i(575481),n=i(890360),r=i(174646),o=i(177270),s=i(180307),d=i(839284),c=i(992114);function _(){let{isBot:e,isSocialBot:t,referrerFromCookie:i,referrerFromHeader:_,countryFromHostName:u,countryFromIp:p,regionFromIp:h,isAuthenticated:m}=(0,r.B)(),f=(0,l.TH)(),g=(0,d.Z)(),P=new URLSearchParams(f.search),b=!e&&!!P.get("utm_pai"),A=P.get("utm_source"),I=!e&&!t&&(0,n.ey)(f),L=(0,s.Z)({countryFromHostName:u||"",countryFromIp:p||"",regionFromIp:h||"",isAuthenticated:m}),E=_||L&&i||"",y=g?E:(0,o.an)(E),x=!1,v=!e&&!t&&A&&["email",String(31)].includes(A),C=!e&&!t&&A&&["fb"].includes(A),O=!e&&!t&&!!(y&&(/facebook/.test(y)||/fb/.test(y))),S=!e&&!t&&!!(y&&(/twitter/.test(y)||/tw/.test(y)));I&&(0,c.nP)("unauth.entry_channel.invite_code",{sampleRate:1}),v&&(0,c.nP)("unauth.entry_channel.email_utm_source",{sampleRate:1}),C&&(0,c.nP)("unauth.entry_channel.social_media_utm_source_fb",{sampleRate:1}),O&&(0,c.nP)("unauth.entry_channel.social_media_referer_fb",{sampleRate:1}),S&&(0,c.nP)("unauth.entry_channel.social_media_referer_twitter",{sampleRate:1}),x=(0,o.Xn)(y);let w=!e&&x,T=!!P.get(a.J),R=!!P.get("twa_type")||y&&y.startsWith("android-app://com.pinterest.twa"),k=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_admin","utm_id","utm_mail","utm_swu"].some(e=>null!==P.get(e))||!!y||T||R;return{isPaid:b,isInvite:I,utmSource:A,referrer:y,isSocial:I,isDirect:!e&&!b&&!I&&!w&&!k,isSEO:w,isBrowserStorageAllowed:L}}},25402:(e,t,i)=>{i.d(t,{Z:()=>o});var l=i(667294),a=i(545007),n=i(741594),r=i(733668);function o(e){let{name:t,optionsKey:i}=e,o=t===n.fY,s=(0,r.bC)(),d=s?.get(t,i);if(d)throw d;let c=e=>e[t]?.[i],_=(0,a.v9)(({resources:e})=>c(e)?.nextBookmark),u=(0,a.v9)(({resources:e})=>c(e)?.data),p=(0,a.v9)(({resources:e})=>c(e)?.auxData),h=(0,a.v9)(({resources:e})=>c(e)?.error),m=(0,l.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(o)return m.current;let f={auxData:p,data:u,error:h,isAtEnd:_===n.qx,nextBookmark:_};return(f.auxData!==m.current.auxData||f.data!==m.current.data||f.error!==m.current.error||f.isAtEnd!==m.current.isAtEnd||f.nextBookmark!==m.current.nextBookmark)&&(m.current=f),m.current}},177270:(e,t,i)=>{i.d(t,{H5:()=>g,Xn:()=>m,Yf:()=>I,an:()=>f});var l=i(890360),a=i(50113),n=i(857147);let r="BING",o="GOOGLE",s="YAHOO",d="YANDEX",c="RAKUTEN",_="NAVER",u="AMP_CACHE",p="DUCKDUCKGO",h=[o,r,s,d,c,_,u,p];function m(e){return h.includes(function(e){let{hostname:t}=(0,n.Qc)(e,!0);if(t&&e){if(t.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return o;else if(t.includes("bing."))return r;else if(t.includes("yahoo."))return s;else if(t.includes("yandex."))return d;else if(t.includes("rakuten."))return c;else if(t.includes("naver."))return _;else if(t.includes("duckduckgo."))return p;else if(t.includes(".cdn.ampproject.org"))return u}return""}(e))}function f(e){return e||"undefined"!=typeof document&&document.referrer||""}let g=e=>{let t=new URL(e);return t.searchParams.set("nii","t"),t.href},P=e=>"/"!==e[e.length-1]?`${e}/`:e,b=e=>{let t=P(e),i=(0,l.ll)({pathname:t});if((0,l.L6)(i))return"PIN";if((0,l.am)(i))return"BOARD";if((0,a.Z)(i))return"PROFILE";if((0,l.bo)(i))return"TODAY";if((0,l.z_)(i))return"IDEA";else if((0,l.R$)(i))return"SHOPPING";return"UNKNOWN"},A=({selector:e,skipExternal:t})=>{let i=Array.from(document.querySelectorAll(e)),l={pin:[],board:[],user:[],today:[],idea:[],shopping:[]},a=new Set;return i.forEach(e=>{let i=e.getAttribute("href");if(!i||i.startsWith("#")||t&&i.startsWith("http")&&!i.includes(window.location.hostname))return;let n=P(i);if(a.has(n))return;a.add(n);let r=b(n);"PIN"===r?l.pin.push(n):"BOARD"===r?l.board.push(n):"PROFILE"===r?l.user.push(n):"TODAY"===r?l.today.push(n):"IDEA"===r?l.idea.push(n):"SHOPPING"===r&&l.shopping.push(n)}),l},I=({country:e,language:t,isBot:i,hostname:l,pathname:a})=>({domain:l,country:e,language:t,currentUrl:a,pageType:b(a),referrer:document.referrer,isBot:i,links:A({selector:"a[href]",skipExternal:!0})})},839284:(e,t,i)=>{i.d(t,{Z:()=>o});var l=i(667294);let a=()=>()=>{},n=()=>!1,r=()=>!0,o=()=>(0,l.useSyncExternalStore)(a,n,r)},562759:(e,t,i)=>{i.d(t,{r:()=>b,K:()=>P});var l=i(667294),a=i(218291),n=i(113474),r=i(882368),o=i(986298),s=i(805),d=i(477565);let c=e=>{let t={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,d.Z)(i)]=e[i]:t[(0,d.Z)(i)]=c(e[i]));return t},_=(e,t)=>{let i=[];for(let l in e)l!==t&&i.push({id:l,...c(e[l])});let l=i.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),a=new Map;for(let e of l)a.set(e.id,e);return a},u={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},h=({dispatch:e,isEnabled:t,state:i})=>{let{orbacVisibility:a,disableProfileChanger:n,headerVisible:r}=i,o=(0,l.useCallback)(i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})},[t,e]),s=(0,l.useCallback)(i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:i??!a})},[t,e,a]);return{changeProfile:o,toggleORBACVisibility:s,toggleDisableProfileChanger:(0,l.useCallback)(i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:i??!n})},[t,e,n]),toggleHeaderVisibility:(0,l.useCallback)(i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:i??!r})},[t,e,r])}},m=e=>{let[t,i]=(0,l.useReducer)(p,u),a=h({dispatch:i,isEnabled:e,state:t}),{activeProfile:n,orbacVisibility:r}=t;return(0,l.useEffect)(()=>{let e=(0,s.q)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,l.useEffect)(()=>{let e=(0,s.q)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,l.useEffect)(()=>{(0,s.N)("orbacVisibility",r)},[r]),(0,l.useEffect)(()=>{(0,s.N)("orbacActiveProfile",n)},[n]),{state:t,actions:a,receiveProfiles:(0,l.useCallback)((e,t)=>{i({type:"LOAD_PROFILES",payload:_(e,t)})},[i])}};var f=i(785893);let{Provider:g,useMaybeHook:P}=(0,a.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{let t,i=(0,r.Z)(),a=!!(i.isAuth&&i.isPartner),{state:s,actions:d,receiveProfiles:c}=m(a),{activeProfile:_,headerVisible:u,profiles:p=[]}=s,h=p?Array.from(p.values()):[],P=(0,o.Z)(h),b=!!i.isAuth&&h.length>0&&P,A=i.isAuth?i.id:"",I=i.isAuth?i.username:"",{changeProfile:L,toggleORBACVisibility:E,toggleDisableProfileChanger:y,toggleHeaderVisibility:x}=d;(0,l.useEffect)(()=>{if(a){if("string"==typeof P)return void L(P);_||L(A)}},[P,A,a,L,_]),(0,l.useEffect)(()=>{a&&(b&&!u&&x(!0),!b&&u&&x(!1))},[x,b,a,u,p]);let{data:v}=(0,n.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),C=v?.profiles;i&&i.isAuth&&s.activeProfile===i.id?t={id:i.id,permissions:["OWNER"],user:{username:I,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:_&&s.profiles&&(t=s.profiles.get(_)),(0,l.useEffect)(()=>{C&&c(C,A)},[c,C,A]);let O=s.profiles?Array.from(s.profiles.values()):[];return(0,f.jsx)(g,{value:{profiles:O,headerVisible:s.headerVisible,activeProfile:t,changeProfile:L,toggleORBACVisibility:E,toggleDisableProfileChanger:y,toggleHeaderVisibility:x},children:e})}},827491:(e,t,i)=>{i.d(t,{Z:()=>r});var l=i(967312),a=i(562759),n=i(986298);let r=()=>{let{checkExperiment:e}=(0,l.F)(),t=(0,a.K)(),{activeProfile:i}=t||{},r=(0,n.Z)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return o&&!r?Object.freeze({}):i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:Object.freeze({})}},986298:(e,t,i)=>{i.d(t,{Z:()=>o});var l=i(616550),a=i(890360),n=i(882368),r=i(903683);let o=e=>{let t=(0,l.TH)(),i=(0,n.Z)(),o=(0,r.S6)(),s=(0,l.$B)("/:username"),d=s?.params?.username,c=(0,l.$B)("/pin/:id"),_=!!c?.params?.id&&o(c.params.id)?.pinner?.id;if((0,a.ej)(t))return!1;if((0,a.RU)(t)||(0,a.mY)(t))return!0;let u=e.concat(i.isAuth?{user:{username:i.username},id:i.id}:{}).find(e=>{if(!e)return!1;let{user:t,id:i}=e;return(!!t&&"username"in t&&!!t.username&&!!d||!!_&&!!i)&&(t.username===d||_===i)});return!!u&&u.id}},488879:(e,t,i)=>{i.d(t,{D3:()=>_,DX:()=>d,Fk:()=>l,KY:()=>u,Ms:()=>a,N1:()=>p,_P:()=>s,gJ:()=>n,lJ:()=>o,nl:()=>r,q6:()=>c});let l=(e,t)=>{let i=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(i=t.user.businessName),i},a=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},n=(e,t)=>{let i=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(i=t.user.imgUrl),i},r=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,i)=>i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:e.advertiser?.merchant_id,d=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),_=(e,t,i)=>!!(c(e,t,i)||e&&e.isAuth&&t===e.id),u=(e,t,i)=>_(e,t&&t.owner&&t.owner.id||"",i);function p(e,t,i){return _(e,t?t.id:"",i)}},747607:(e,t,i)=>{i.d(t,{Z:()=>d});var l=i(667294),a=i(883119),n=i(643693),r=i(414478),o=i(785893);let s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function d({children:e,forwardRef:t,overrideTop:i=0,position:d="static",shouldShowShadow:c=!1,top:_,style:u={}}){let{currentScrollPosition:p,isScrolled:h,setSubheaderShadow:m}=(0,n.W)();(0,l.useEffect)(()=>(c&&m("contentHeader"),()=>{c&&m(null)}),[c]);let f=!1;"pending"!==_&&(f=null!=_?p>=_:h);let g=(0,o.jsx)(a.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:d,...u,...f&&c&&{...s,zIndex:499}}},children:e});return"sticky"===d?(0,o.jsx)(a.Le,{top:i,zIndex:new a.H3([r.Zu]),children:g}):g}},381366:(e,t,i)=>{i.d(t,{Z:()=>n,k:()=>l});let{Provider:l,useHook:a}=(0,i(218291).Z)("Conversations"),n=a},5096:(e,t,i)=>{i.d(t,{Z:()=>x});var l=i(667294),a=i(545007),n=i(616550),r=i(883119),o=i(219308),s=i(909512),d=i(852015),c=i(233846),_=i(967312),u=i(538645),p=i(331935),h=i(724027),m=i(785893);function f({isOpen:e,onDismiss:t}){let i=(0,c.ZP)();return(0,m.jsx)(d.ZP,{accessibilityModalLabel:i._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:e,mobileAccessibilityCloseIconLabel:i._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:t,type:"DisabledPublishingModal",children:(0,m.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,m.jsx)(r.X6,{children:i._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsx)(r.xv,{children:i._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsx)(r.zx,{color:"red",onClick:()=>t(),size:"lg",text:i._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function g(e){let t=(0,c.ZP)(),{viewType:i,boardId:l,handleTouch:a}=e,n=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),o=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===i&&l?(0,m.jsx)(r.Tg,{href:`/board/${l}/create_section/`,onTap:a,rounding:2,children:(0,m.jsx)(r.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,m.jsx)(r.X6,{size:"400",children:o})})}):(0,m.jsx)(r.Tg,{href:"/board/create/",onTap:a,children:(0,m.jsx)(r.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,m.jsx)(r.X6,{size:"400",children:n})})})}var P=i(108602);function b({disabledPinCreation:e,handleDisablePublish:t,handleTouch:i}){let l=(0,c.ZP)(),a=(0,n.k6)(),o=e=>({imageBase64:e,description:"",imageUrl:"",method:P.Iv}),s=l._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,m.jsx)(r.iP,{onTap:()=>{if(e)return void t();i()},tapStyle:"none",children:(0,m.jsxs)(r.xu,{paddingY:2,position:"relative",children:[(0,m.jsx)(r.X6,{size:"400",children:s}),e?null:(0,m.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;a.push({pathname:`/pin/create/${P.Iv}/`,state:o(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var A=i(17409),I=i(683829),L=i(968386);let E=e=>{let t=window&&window.innerWidth||0,i=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),l=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?l:i};function y({bgColor:e,boardId:t,buttonPadding:i,disabledPinCreation:a,elementType:n,history:o,i18n:c,iconButtonColor:_="gray",iconButtonSize:u="xl",isDesktop:P,isInputOpen:I,logContextEvent:L,requireAuthForLimitedLogin:y,submittedLink:x,updatePinBuilderInput:v,viewType:C}){let[O,S]=(0,l.useState)(""),[w,T]=(0,l.useState)(!1),[R,k]=(0,l.useState)(!1),[z,j]=(0,l.useState)(!1),[N,D]=(0,l.useState)(null);(0,l.useEffect)(()=>{(I||x)&&(T(!!I),k(!!I),x&&S(x))},[I,x]);let U=(0,l.useRef)(null),M=(0,l.useRef)(null),B=()=>{L({view_type:C,view_parameter:3106,element:n,event_type:102,aux_data:{source:h.Z.PROFILE}})},H=()=>{T(!1),k(!1),v({isInputOpen:!1,submittedLink:""})},Z=()=>{k(!0),v({isInputOpen:!0})},F=()=>{T(!1),j(!0)},G=({value:e})=>{S(e)},Y=e=>{k(!1),v({submittedLink:O}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:O}}),H()},$=(e,t)=>{e.preventDefault();let{errors:i}=(0,p.Jx)({message:c._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(O),[l]=i;l?D(l):Y(t)},W=c._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===C?W=c._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===C&&(W=c._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||c._('Add to board', 'heading in board create modal', 'heading in board create modal'));let V=4===C?c._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):W,K=(5===C||164===C)&&M.current;return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.xu,{"data-test-id":"createMenuCreateButton",children:(0,m.jsx)(r.hU,{ref:M,accessibilityLabel:c._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:e,icon:"add",iconColor:_,onClick:()=>{B(),y({fn:()=>T(!0),modalHeader:(0,A.is)(c)})()},padding:"auto"!==i?i:1,size:u})})}),w&&(0,m.jsx)(d.ZP,{accessibilityModalLabel:"",heading:V,isOpen:w,mobileAccessibilityCloseIconLabel:c._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:H,type:"create_menu",children:(0,m.jsx)(r.xu,{padding:3,children:(0,m.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(r.xu,{paddingX:2,children:[(0,m.jsx)(r.xu,{marginBottom:2,children:(0,m.jsx)(r.xv,{children:c._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')})}),(()=>{let e=c._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:R?(0,m.jsx)("form",{onSubmit:e=>$(e,o),style:{width:"100%"},children:(0,m.jsxs)(r.kC,{alignItems:"start",justifyContent:"between",children:[(0,m.jsx)(r.xu,{ref:U,width:"100%",children:(0,m.jsx)(r.xu,{marginBottom:2,marginEnd:2,smMarginBottom:0,smMarginEnd:2,children:(0,m.jsx)(r.nv,{errorMessage:N,id:"create-pin-from-link",onChange:G,onFocus:()=>D(null),placeholder:E(c),size:"lg",value:O})})}),(0,m.jsx)(r.hU,{accessibilityLabel:c._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"arrow-forward",iconColor:"darkGray",onClick:({event:e})=>$(e,o),size:"lg"})]})}):(0,m.jsx)(r.iP,{onTap:()=>{if(a)return void F();Z()},tapStyle:"none",children:(0,m.jsx)(r.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,m.jsx)(r.X6,{size:"400",children:e})})})})})(),(0,m.jsx)(b,{disabledPinCreation:a,handleDisablePublish:F,handleTouch:B})]}),164!==C&&(0,m.jsxs)(r.xu,{marginTop:6,paddingX:2,children:[(0,m.jsx)(r.xv,{children:c._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,m.jsx)(g,{boardId:t,handleTouch:()=>{B(),H()},viewType:C})]}),(0,m.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,m.jsx)(r.zx,{onClick:()=>H(),size:"lg",text:c._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),z&&(0,m.jsx)(f,{isOpen:!0,onDismiss:()=>{j(!1)}}),K&&(0,m.jsx)(s.N,{anchors:{[P?3006:4006]:M.current},idealDirection:"up",onAnchorTouch:"complete",placementId:P?18:1000251,scrollToDismiss:!0})]})}function x(e){let t=(0,c.ZP)(),i=(0,u.HG)(),{checkExperiment:l}=(0,_.F)(),r=["disable_all","disable_web_pins"].includes(l("disable_pin_creation").group),s=(0,a.I0)(),d=(0,n.k6)(),{pinBuilder:p}=(0,a.v9)(e=>e.session),h=(0,o.Z)(),f=p&&p.isInputOpen,g=p&&p.submittedLink,P=(0,I.Z)();return(0,m.jsx)(y,{...e,disabledPinCreation:r,history:d,i18n:t,isDesktop:i,isInputOpen:f,logContextEvent:h,requireAuthForLimitedLogin:P,submittedLink:g,updatePinBuilderInput:e=>s((0,L.p)(e))})}},352437:(e,t,i)=>{i.d(t,{Z:()=>r});var l=i(883119),a=i(233846),n=i(785893);let r=({isInModal:e})=>{let t=(0,a.ZP)();return(0,n.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),children:(0,n.jsx)(l.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},643693:(e,t,i)=>{i.d(t,{H:()=>d,W:()=>s});var l=i(667294),a=i(218291),n=i(169650),r=i(785893);let{Provider:o,useHook:s}=(0,a.Z)("HeaderShadow");function d({children:e}){let[t,i]=(0,l.useState)(!1),[a,s]=(0,l.useState)(!1),[d,c]=(0,l.useState)(0),[_,u]=(0,l.useState)(null),p=(0,n.Z)(()=>{t&&(s(window.scrollY>0),c(window.scrollY))},50);return(0,l.useEffect)(()=>(i(!0),()=>{i(!1)}),[]),(0,l.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),(0,r.jsx)(o,{value:{currentScrollPosition:d,isScrolled:a,setSubheaderShadow:u,subheaderShadow:_},children:e})}},196965:(e,t,i)=>{i.d(t,{Z:()=>s});var l=i(667294),a=i(219308),n=i(112800);let r=e=>Object.keys(e).reduce((t,i)=>(void 0===e[i]&&delete t[i],t),{...e}),o=({viewType:e,viewParameter:t,viewData:i,auxData:l,objectIdStr:a,component:o,clientTrackingParams:s,element:d},c)=>{let _=r({event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:l,object_id_str:a,component:o,clientTrackingParams:s,element:d});-1===Object.keys(_).indexOf("view_type")&&(0,n.My)("mweb.logging.null_view_type"),c(_)};function s(e){let{auxData:t,clientTrackingParams:i,children:n,component:r,element:s,objectIdStr:d,viewData:c,viewParameter:_,viewType:u}=e,p=(0,a.Z)(),h=JSON.stringify(t),m=JSON.stringify(c);return(0,l.useEffect)(()=>{o(e,p)},[p,h,i,r,s,d,m,_,u]),l.Children.only(n)}},108602:(e,t,i)=>{i.d(t,{Iv:()=>l,dU:()=>u,it:()=>r,jI:()=>_,n0:()=>s,nY:()=>n,sW:()=>c,up:()=>a});let l="uploaded",a="pinbuilder",n="scraped",r="button";function o(e){return!!e&&"object"==typeof e&&"method"in e}function s(e){return o(e)&&e.method===n}function d(e){return o(e)&&e.method===l}function c(e){return o(e)&&e.method===r}function _(e){return s(e)||d(e)||c(e)}function u({boardId:e,checkExperiment:t,createPin:i,sectionId:l,state:a}){let n=[];if(s(a)){let{imgData:r}=a;r.forEach(r=>{n.push(i(function({boardId:e,checkExperiment:t,image:i,sectionId:l,state:a}){let{description:n,link:r,method:o}=a;return{boardId:e,checkExperiment:t,description:n,guid:"",imageBase64:"",imageUrl:i,link:r,method:o,sectionId:l}}({boardId:e,checkExperiment:t,image:r,sectionId:l,state:a})))})}else n.push(i(function({boardId:e,checkExperiment:t,sectionId:i,state:l}){if(d(l)){let{description:a,imageBase64:n,imageUrl:r,method:o}=l;return{boardId:e,checkExperiment:t,description:a,guid:"",imageBase64:n,imageUrl:r,link:"",method:o,sectionId:i}}{let{description:a,guid:n,imageUrl:r,link:o,method:s}=l;return{boardId:e,checkExperiment:t,description:a,guid:n,imageUrl:r,link:o,method:s,sectionId:i}}}({boardId:e,checkExperiment:t,sectionId:l,state:a})));return n}},41771:(e,t,i)=>{i.d(t,{CC:()=>c,H$:()=>u,Mt:()=>s,dp:()=>_,p9:()=>p});var l=i(547504),a=i(838380),n=i(69401),r=i(943369),o=i(756493);let s=({key:e,lastVisitedPage:t,imageSignature:i,pinId:l,imageInfo:a,pinDescription:o,pinInviteCode:s})=>{let d=(0,r.M0)().getItem(e)??[];if(!d[0]||d[0].path!==t){let d=[{path:t,ts:Date.now(),pin_id:l||0,first_pin_image_signature:i||"",first_pin_id:l||"",image_info:a||"",pin_description:o||"",is_shared:!!s,pin_invite_code:s}];(0,r.M0)().prependItem(e,d,n.LG)}},d=()=>{let e,t=(0,o.Nl)().getItem(a.N_);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},c=({path:e,image:t,dominant_color:i,pin_description:l,pin_id:n})=>{let r=d();r[0]&&r[0].path===e||(0,o.Nl)().setItem(a.N_,[{path:e,image:t,pin_description:l??"",dominant_color:i||"",pin_id:n||""}].concat(r))};function _(e,t,i,a,n,r){s({key:l.uc,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:a,pinDescription:n,pinInviteCode:r})}let u=(e,t,i,a,n)=>{s({key:l.hI,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:a,pinDescription:n??""})};function p(e,t,i,a,n){s({key:l.tH,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:a,pinDescription:n??""})}},17409:(e,t,i)=>{i.d(t,{Bb:()=>m,Bx:()=>o,F4:()=>r,Qj:()=>s,_6:()=>h,gv:()=>n,hg:()=>d,is:()=>u,jP:()=>p,lt:()=>a,oM:()=>c,wI:()=>_});var l=i(857147);let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{let t=(0,l.mB)(e.search).board_url;if(t){let e=(0,l.Jx)(t),i=(0,l.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},o=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),_=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},u=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),p=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),h=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),m=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},640641:(e,t,i)=>{i.d(t,{C0:()=>l,Gj:()=>a,ZU:()=>r,a0:()=>s,vW:()=>o,y4:()=>n});let l=["DMCA","Trademark","GDPR"],a=["dsa","uk","india"],n=["dsa","uk"],r=new Date(2024,0,1),o="GB",s={test:{LAW:"test",DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["US"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,TRUSTED_FLAGGER:!1,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},turkey:{LAW:"turkey",DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},dsa:{LAW:"dsa",DECIDER_KEY:"legal_webapp_takedown_form_dsa",COUNTRY_CODES:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!0,ALLOW_MULTIPLE_COMPLAINTS:!0,SHOW_VIOLATING_COUNTRY_OPTION:!0},uk:{LAW:"uk",DECIDER_KEY:"legal_webapp_takedown_form_uk",COUNTRY_CODES:[o],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1,ALLOW_MULTIPLE_COMPLAINTS:!0,SHOW_VIOLATING_COUNTRY_OPTION:!1,SHOW_VIOLATION_REASONS_LIST:!1},india:{LAW:"india",DECIDER_KEY:"legal_webapp_takedown_form_india",COUNTRY_CODES:["IN"],API:"/v3/legal/takedowns/india/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!1}}},68366:(e,t,i)=>{i.d(t,{Z:()=>n});var l=i(174646),a=i(640641);function n(){let{countryFromIp:e}=(0,l.B)();return{isEUBasedIp:!!e&&!!a.a0?.dsa?.COUNTRY_CODES?.includes(e),isIndiaIp:!!e&&!!a.a0?.india?.COUNTRY_CODES?.includes(e)}}},414478:(e,t,i)=>{i.d(t,{JR:()=>s,PJ:()=>o,Zu:()=>r,c6:()=>n,mM:()=>a});var l=i(883119);let a=new l.Ry(1),n=new l.H3([a]),r=new l.H3([n]),o=new l.H3([r]),s=new l.H3([r])},968386:(e,t,i)=>{i.d(t,{F:()=>l,p:()=>a});let l=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),a=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},969827:(e,t,i)=>{i.d(t,{Z:()=>l});function l(e){let{users:t}=e;if(!t)return;let i=Object.keys(t).find(e=>void 0!==t[e].login_state);return i?t[i]:void 0}},253695:(e,t,i)=>{i.d(t,{Z:()=>n});var l=i(442279),a=i(969827);let n=(0,l.P1)(a.Z,e=>e.invites,(e,t)=>Object.keys(t).reduce((i,l)=>{let a=l.split(":"),n=a[0],r=a[1],o=e.id===r,s=t[l]&&["new","contact_request_not_approved"].includes(t[l].status);return o&&s&&(i[n]=l),i},{}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/77058-1fb754c9af508d79.mjs.map